<header class="md:hidden bg-[var(--accent-primary)] text-[var(--color-secondary)] border-b border-[var(--color-secondary)]">
  <div class="flex items-center justify-between p-4">
    <!-- Hamburger toggle -->
    <button id="mobile-toggle" class="p-2 rounded hover:bg-[var(--accent-secondary)] transition">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
      </svg>
    </button>
  </div>

  <!-- Collapsible menu -->
  <nav id="mobile-menu" class="flex flex-col gap-2 p-4 border-t border-[var(--color-secondary)] hidden">
    <div class="flex flex-col items-center">
      <div class="w-24 h-24 rounded-full border-4 border-[var(--accent-secondary)] mb-4 bg-cover bg-center" style="background-image: var(--accent-img);"></div>
      <h1 class="text-xl font-bold">Abhishek Srivastav</h1>
      <p class="text-sm opacity-80">Software Engineer</p>
    </div>

    <a href="#about" class="px-3 py-2 rounded hover:opacity-80 transition">About Me</a>
    <a href="#portfolio" class="px-3 py-2 rounded hover:opacity-80 transition">Portfolio</a>
    <a href="#services" class="px-3 py-2 rounded hover:opacity-80 transition">Services</a>
    <a href="#resume" class="px-3 py-2 rounded hover:opacity-80 transition">Resume</a>
    <a href="#blog" class="px-3 py-2 rounded hover:opacity-80 transition">Blog</a>
    <a href="#contact" class="px-3 py-2 rounded hover:opacity-80 transition">Contact</a>

    <div class="flex items-center mt-4">
  <label for="layout-switch" class="relative inline-flex items-center cursor-pointer">
    <input type="checkbox" id="layout-switch" class="sr-only">

    <!-- background track -->
    <div id="switch-track" class="w-12 h-6 bg-gray-300 rounded-full shadow-inner transition-colors duration-300 ease-in-out"></div>

    <!-- toggle knob -->
    <div id="switch-knob" class="absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow transform transition-transform duration-300 ease-in-out"></div>
  </label>
  <span class="ml-3 text-sm text-[var(--color-secondary)]">Dark Mode</span>
</div>
  </nav>
</header>

<script>
  const mobileToggle = document.getElementById("mobile-toggle");
  const mobileMenu = document.getElementById("mobile-menu");

  if (mobileToggle && mobileMenu) {
    mobileToggle.addEventListener("click", () => {
      mobileMenu.classList.toggle("hidden");
    });
  }
  const html = document.documentElement;
  const switchInput = document.getElementById("layout-switch");
  const switchTrack = document.getElementById("switch-track");
  const switchKnob = document.getElementById("switch-knob");

  // Initialize layout
  const savedLayout = localStorage.getItem("layout") || "layout-light";
  html.classList.add(savedLayout);
  if (savedLayout === "layout-dark") {
    switchInput.checked = true;
    switchTrack.classList.replace("bg-gray-300", "bg-gray-800");
    switchKnob.classList.add("translate-x-6");
  }

  switchInput.addEventListener("change", () => {
    if (switchInput.checked) {
      html.classList.replace("layout-light", "layout-dark");
      localStorage.setItem("layout", "layout-dark");
      switchTrack.classList.replace("bg-gray-300", "bg-gray-800");
      switchKnob.classList.add("translate-x-6");
    } else {
      html.classList.replace("layout-dark", "layout-light");
      localStorage.setItem("layout", "layout-light");
      switchTrack.classList.replace("bg-gray-800", "bg-gray-300");
      switchKnob.classList.remove("translate-x-6");
    }
  });
</script>
